(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{107:function(t,e,n){},108:function(t,e,n){},19:function(t,e,n){t.exports={toolBar:"ToolBar_toolBar__3hxL7",toolBarBtn:"ToolBar_toolBarBtn__6PV8E",colorBtn:"ToolBar_colorBtn__2bnZp",brush:"ToolBar_brush__37p3A",buttonEdit:"ToolBar_buttonEdit__HfjOl"}},252:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),a=n(17),r=n.n(a),i=(n(107),n(108),n(4)),s=n(9),u=n(99),l=n.n(u),j=n(18),d=n(23),b=n(19),O=n.n(b),f=n(37),h=n.n(f),p=n(100),v=n(101),g=n(102),x=n.n(g),m=(n(118),n(2)),_=function(t){var e=c.a.useState(""),n=Object(s.a)(e,2),o=n[0],a=n[1],r=c.a.useState(JSON.parse(localStorage.getItem("elements"))||[]),u=Object(s.a)(r,2),l=u[0],j=u[1];c.a.useEffect((function(){localStorage.setItem("elements",JSON.stringify(l))}),[l]);var d=function(){if(""!==o.trim()){var t={id:Object(p.v4)(),item:o,color:Object(v.randomColor)({luminosity:"linght"}),defaultPos:{x:0,y:500}};j((function(e){return[].concat(Object(i.a)(e),[t])})),a("")}else alert("Enter somethimg..."),a("")},b=l.map((function(t,e){return Object(m.jsx)(x.a,{defaultPosition:t.defaultPos,onStop:function(t,n){!function(t,e){var n=Object(i.a)(l);n[e].defaultPos={x:t.x,y:t.y},j(n)}(n,e)},children:Object(m.jsxs)("div",{style:{backgroundColor:t.color},className:h.a.todoItem,children:["".concat(t.item),Object(m.jsx)("button",{className:h.a.delete,onClick:function(){return function(t){var e=Object(i.a)(l).filter((function(e){return e.id!==t}));j(e)}(t.id)},children:"X"})]})},e)}));return Object(m.jsxs)("div",{className:h.a.wrapper,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{value:o,type:"text",placeholder:"Enter something...",onChange:function(t){return a(t.target.value)},onKeyPress:function(t){return function(t){13===(t.keyCode||t.which)&&d()}(t)}}),Object(m.jsx)("button",{onClick:d,children:"Enter"})]}),b]})},y=n(10),w="COLOR",B="UNDO",S="REDO",C="INDEX",E={color:"white",undoList:[],redoList:[],index:-1},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(y.a)(Object(y.a)({},t),{},{color:e.color});case B:return Object(y.a)(Object(y.a)({},t),{},{undoList:[].concat(Object(i.a)(t.undoList),[e.data])});case S:return Object(y.a)(Object(y.a)({},t),{},{redoList:[].concat(Object(i.a)(t.redoList),[e.data])});case C:return Object(y.a)(Object(y.a)({},t),{},{index:t.index+1});default:return t}},T=Object(j.b)((function(t){return{color:t.canvas.color}}),{setColor:function(t){return{type:w,color:t}}})((function(t){return Object(m.jsxs)("div",{className:O.a.toolBar,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"".concat(O.a.toolBarBtn," ").concat(O.a.brush)}),Object(m.jsx)("input",{className:O.a.colorBtn,type:"color",onChange:function(e){return t.setColor(e.target.value)}})]}),Object(m.jsx)(_,{}),Object(m.jsxs)("div",{className:O.a.buttonEdit,children:[Object(m.jsx)("button",{onClick:t.undo}),Object(m.jsx)("button",{onClick:t.redo})]})]})})),L=Object(j.b)((function(t){return{color:t.canvas.color,undoList:t.canvas.undoList,index:t.canvas.index}}),{pushToRedo:function(t){return{type:S,data:t}},pushToUndo:function(t){return{type:B,data:t}},indexEdit:function(){return{type:C}}})((function(t){var e=Object(o.useRef)(null),n=Object(o.useRef)(null),a=Object(o.useState)(""),r=Object(s.a)(a,2),u=r[0],j=r[1],b=c.a.useState(JSON.parse(localStorage.getItem("canvas"))||""),O=Object(s.a)(b,2),f=O[0],h=O[1],p=Object(o.useState)(Object(i.a)(f)),v=Object(s.a)(p,2),g=v[0],x=v[1],_=Object(o.useState)(!1),y=Object(s.a)(_,2),w=y[0],B=y[1],S=Object(o.useState)(t.color),C=Object(s.a)(S,2),E=(C[0],C[1]);Object(o.useEffect)((function(){var o=e.current;o.width=2*window.innerWidth,o.height=2*window.innerHeight,o.style.width="".concat(window.innerWidth,"px"),o.style.height="".concat(window.innerHeight,"px");var c=o.getContext("2d");c.scale(2,2),c.lineCap="round",c.strokeStyle="".concat(t.color),c.lineWidth=5,n.current=c,E(t.color),f.length&&f.map((function(t){t.map((function(e){d.a.isEqual(t[0],e)?(n.current.beginPath(),n.current.moveTo(e[0],e[1])):d.a.isEqual(t[e.length-1],e)?(n.current.lineTo(e[0],e[1]),n.current.closePath()):(n.current.lineTo(e[0],e[1]),n.current.stroke())}))})),u.length&&u.map((function(t){d.a.isEqual(u[0],t)?(n.current.beginPath(),n.current.moveTo(t[0],t[1])):d.a.isEqual(u[t.length-1],t)?(n.current.lineTo(t[0],t[1]),n.current.closePath()):(n.current.lineTo(t[0],t[1]),n.current.stroke())}))}),[t.color,f,u]);return Object(m.jsxs)("div",{className:l.a.canvas,children:[Object(m.jsx)(T,{undo:function(){if(f.length){var t=f;t.length--,h(Object(i.a)(t))}},redo:function(){if(f.length<g.length){var t=Object(i.a)(f);t.push(g[f.length]),h(Object(i.a)(t))}}}),Object(m.jsx)("canvas",{onMouseDown:function(){B(!0)},onMouseUp:function(){""!==u&&(h([].concat(Object(i.a)(f),[u])),x([].concat(Object(i.a)(f),[u])),localStorage.setItem("canvas",JSON.stringify(f))),j(""),B(!1)},onMouseMove:function(t){var e=t.nativeEvent;if(w){var n=e.offsetX,o=e.offsetY;j([].concat(Object(i.a)(u),[[n,o]]))}},ref:e})]})}));var P=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(L,{})})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,253)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),o(t),c(t),a(t),r(t)}))},I=n(60),J=Object(I.a)({canvas:N}),M=Object(I.b)(J);r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(j.a,{store:M,children:Object(m.jsx)(P,{})})}),document.getElementById("root")),k()},37:function(t,e,n){t.exports={wrapper:"Wrapper_wrapper__1VOss",todoItem:"Wrapper_todoItem__3g_Mp",delete:"Wrapper_delete__3Xfuh"}},99:function(t,e,n){t.exports={canvas:"Canvas_canvas__2O_jI"}}},[[252,1,2]]]);
//# sourceMappingURL=main.d16bed86.chunk.js.map